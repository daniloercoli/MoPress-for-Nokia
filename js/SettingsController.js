function SettingsController(){this.base=BaseController;this.base();this.dropRefresh=null;}SettingsController.prototype=new BaseController;SettingsController.KEY_REFRESH="mopress.comments.refresh";SettingsController.REMOTE_LOG="mopress.remote_log.active";SettingsController.prototype.init=function(){this.dropRefresh=document.getElementById("drop_refresh");};SettingsController.prototype.onActivated=function(){var d=widget.preferenceForKey(SettingsController.KEY_REFRESH);var b=widget.preferenceForKey(SettingsController.REMOTE_LOG);this.setRefreshDropDown(d);var f=$("remote_log_container");f.innerHTML="";var e="";e='<input class="toggle-switch" id="remote_log"  name="remote_log" type="checkbox" ';if(b=="true"){e+='checked="true" ';}e+="/>";f.innerHTML=e;var a=new ToggleSwitch("remote_log",function(h){var g;if(h.lastChild.getAttribute("checked")){g=true;}else{h.lastChild.checked=false;g=false;}h.lastChild.checked=g;});var c=[];c.push({label:"Save",action:EW.Utils.createMethodReference(this,"onSaveClicked"),touch:true});WP.Menu.setLeft(c);};SettingsController.prototype.onSaveClicked=function(){var a=document.getElementById("remote_log");widget.setPreferenceForKey(this.dropRefresh.options[this.dropRefresh.selectedIndex].value,SettingsController.KEY_REFRESH);widget.setPreferenceForKey(a.checked.toString(),SettingsController.REMOTE_LOG);if(a.checked.toString()=="true"){alert("enabled");EW.LogSystem.enableRemoteLogging();}else{EW.LogSystem.disableRemoteLogging();}alert("Settings Saved");WP.Layout.goBack();};SettingsController.prototype.setRefreshDropDown=function(b){if(b!=null){for(var a=0;a<this.dropRefresh.options.length;++a){var c=this.dropRefresh.options[a].value;if(c==b){this.dropRefresh.selectedIndex=a;break;}}}};